# ScheduleMaster 技术栈文档

## 核心技术栈
### 后端框架
- **.NET Core 3.1**
  - 跨平台支持
  - 高性能
  - 丰富的生态系统
  - 完善的依赖注入系统
  - 统一的响应格式

### 数据访问
- **Entity Framework Core 3.0**
  - ORM框架
  - 支持多种数据库
  - 代码优先的开发模式
  - 迁移支持
  - 关系映射（如任务分组与任务的关联）

### 数据库支持
- **MySQL 5.7+**
  - 主要支持的数据库
  - 高性能
  - 可靠性好
- **SQL Server**
  - 企业级数据库支持
  - 与.NET生态深度集成
- **PostgreSQL**
  - 开源数据库支持
  - 强大的扩展性

### 任务调度
- **Quartz.NET**
  - 成熟的任务调度框架
  - 支持复杂的调度策略
  - 分布式调度支持
  - 持久化支持

### 前端技术
- **BeyondAdmin**
  - 响应式管理界面
  - 现代化的UI设计
- **jQuery**
  - 简化DOM操作
  - 丰富的插件生态
- **Bootstrap**
  - 响应式布局
  - 组件库支持
  - 模态框组件（用于任务分组管理）
- **Bootstrap-Table**
  - 表格数据展示
  - 排序和筛选
  - 分页功能
  - 搜索功能
  - 自定义操作列
- **Toastr**
  - 通知提示
  - 操作反馈
- **Moment.js**
  - 日期时间处理
  - 格式化显示

## 系统架构
### 整体架构
- Master-Worker架构
- 分布式设计
- 微服务友好
- 可扩展性强
- 统一响应格式

### 核心组件
1. **Master节点**
   - 任务调度中心
   - 系统管理
   - 配置管理
   - 监控中心
   - 任务分组管理

2. **Worker节点**
   - 任务执行
   - 资源管理
   - 状态报告
   - 负载均衡

3. **数据存储层**
   - 任务配置
   - 执行记录
   - 系统日志
   - 用户数据
   - 分组数据

4. **通信层**
   - 统一响应格式（ServiceResponseMessage）
   - 状态码管理
   - 错误处理
   - 数据封装

## 技术决策
### 框架选择
1. **选择.NET Core的原因**
   - 跨平台支持
   - 高性能
   - 完善的工具链
   - 活跃的社区

2. **选择Quartz.NET的原因**
   - 成熟稳定
   - 功能完善
   - 社区支持
   - 文档丰富

3. **选择Entity Framework Core的原因**
   - 与.NET Core深度集成
   - 支持多种数据库
   - 开发效率高
   - 维护成本低
   - 支持复杂关系映射

4. **选择Bootstrap的原因**
   - 响应式设计
   - 丰富的组件
   - 易于定制
   - 广泛使用

5. **选择Bootstrap-Table的原因**
   - 与Bootstrap无缝集成
   - 支持服务器端分页
   - 丰富的表格功能
   - 易于扩展
   - 支持自定义操作列

6. **统一响应格式设计**
   - 非泛型设计，使用object类型存储数据
   - 包含状态码、消息和数据三个基本属性
   - 简化前端处理逻辑
   - 统一错误处理机制

### 架构决策
1. **采用Master-Worker架构**
   - 职责分明
   - 扩展性好
   - 维护简单
   - 故障隔离

2. **分布式设计**
   - 高可用性
   - 负载均衡
   - 故障转移
   - 横向扩展

3. **关系型数据库设计**
   - 数据一致性
   - 事务支持
   - 关系映射
   - 查询效率

4. **统一响应格式**
   - 简化API设计
   - 统一错误处理
   - 提高开发效率
   - 便于维护和扩展

5. **前端组件化设计**
   - 模块化开发
   - 代码复用
   - 易于维护
   - 用户体验一致

## 开发工具
- Visual Studio 2019+
- VS Code
- Git
- Docker
- Postman

## 部署环境
- Windows Server
- Linux (CentOS)
- Docker容器
- 云平台支持

## 监控和运维
- 日志系统
- 性能监控
- 告警机制
- 运维工具

## 安全考虑
- 身份认证
- 权限控制
- 数据加密
- 安全审计

## 扩展性设计
- 插件系统
- 自定义任务类型
- API集成
- 第三方系统对接
- 分组管理扩展 